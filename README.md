# Notes Project

Монорепозиторий небольшого сервиса для работы с заметками с возможностью авторизации, создания/изменения/удаления заметок и лимитирования запросов.

## Описание

Проект представляет собой полнофункциональное веб-приложение для управления заметками с системой аутентификации пользователей. Сервис поддерживает базовые CRUD операции над заметками и включает механизм ограничения частоты запросов.

## Архитектура

Проект состоит из следующих компонентов:

- **База данных**: PostgreSQL
- **Backend**: Express.js + oRPC (2 реплики для балансировки нагрузки)
- **Frontend**: Next.js + shadcn/ui + Tailwind CSS + TanStack Query + Zustand
- **Прокси-сервер**: Nginx (балансировщик нагрузки и статический файловый сервер)

Nginx выполняет роль проксирующего балансировщика, распределяя запросы между двумя серверами бэкенда и раздавая статические файлы для клиентской части приложения.

## Технологический стек

### Frontend
- **Next.js** - React-фреймворк для серверного рендеринга
- **shadcn/ui** - Компонентная библиотека UI
- **Tailwind CSS** - Utility-first CSS фреймворк
- **TanStack Query** - Библиотека для управления серверным состоянием
- **Zustand** - Легковесная библиотека для управления клиентским состоянием
- **Zod** - Библиотека для валидации данных и обеспечения типобезопасности 

### Backend
- **Express.js** - Веб-фреймворк для Node.js
- **oRPC** - Типобезопасный RPC фреймворк
- **Prisma** - ORM для работы с базой данных
- **PostgreSQL** - Реляционная база данных
- **Zod** - Библиотека для валидации данных и обеспечения типобезопасности

## Быстрый старт

### Требования

- Docker
- Docker Compose

### Запуск проекта

Для запуска всего проекта достаточно выполнить в корне проекта:

```bash
docker compose up
```

Эта команда поднимет:
- Базу данных PostgreSQL
- Два сервера бэкенда (для балансировки нагрузки)
- Nginx прокси-сервер с балансировщиком нагрузки

### Доступ к приложению

После запуска проекта:

- **Frontend**: http://localhost
- **OpenAPI Swagger (для тестирования бэкенда)**: http://localhost/api

## Структура проекта

```
notes-project/
├── backend/          # Backend сервер на Express + oRPC
├── frontend/         # Frontend приложение на Next.js
├── docker-compose.yml # Конфигурация Docker Compose
└── default.conf.template # Шаблон конфигурации Nginx
```

## Функциональность

- ✅ Аутентификация пользователей
- ✅ Создание заметок
- ✅ Редактирование заметок
- ✅ Удаление заметок
- ✅ Просмотр списка заметок
- ✅ Лимитирование запросов (rate limiting)

## Тестирование API

Для тестирования бэкенда можно использовать OpenAPI Swagger документацию, доступную по адресу http://localhost/api после запуска проекта через Docker Compose.

