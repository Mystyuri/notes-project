(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11981,e=>{"use strict";var r=e.i(28797),i=e.i(85205),l=e.i(75680),n=e.i(96134),t=e.i(58357),a=e.i(85709),s=e.i(37296),o=e.i(7657),d=e.i(17722),c=e.i(14245),u=e.i(76633);let m=o.z.object({email:o.z.email(),password:o.z.string().min(2)}).extend({name:o.z.string()}),x=(0,u.withAuth)(function(){let[e,o]=(0,a.useState)(!0),{mutate:u}=(0,t.useLoginMutation)(),{mutate:x}=(0,t.useRegistrationMutation)(),j=(0,s.useForm)({resolver:(0,d.zodResolver)(m),defaultValues:{name:"",email:"",password:""}}),h=j.handleSubmit(r=>{let{password:i,email:l,name:n}=r;e?u({password:i,email:l}):n&&x({password:i,email:l,name:n})});return(0,r.jsxs)(l.Card,{className:"w-full max-w-sm my-auto",children:[(0,r.jsxs)(l.CardHeader,{children:[(0,r.jsx)(l.CardTitle,{children:e?"Войти в ваш аккаунт":"Зарегистрироваться"}),(0,r.jsx)(l.CardAction,{children:(0,r.jsx)(i.Button,{variant:"link",onClick:()=>o(e=>!e),children:e?"Регистрация":"Вход"})})]}),(0,r.jsx)(l.CardContent,{children:(0,r.jsxs)("form",{id:"form-auth",onSubmit:h,className:"space-y-8",children:[!e&&(0,r.jsx)(s.Controller,{control:j.control,name:"name",render:({field:e,fieldState:i})=>(0,r.jsxs)(c.Field,{"data-invalid":i.invalid,children:[(0,r.jsx)(c.FieldLabel,{children:"Имя"}),(0,r.jsx)(n.Input,{type:"text",...e}),i.invalid&&(0,r.jsx)(c.FieldError,{errors:[i.error]})]})}),(0,r.jsx)(s.Controller,{control:j.control,name:"email",render:({field:e,fieldState:i})=>(0,r.jsxs)(c.Field,{"data-invalid":i.invalid,children:[(0,r.jsx)(c.FieldLabel,{children:"Почта"}),(0,r.jsx)(n.Input,{type:"email",...e}),i.invalid&&(0,r.jsx)(c.FieldError,{errors:[i.error]})]})}),(0,r.jsx)(s.Controller,{control:j.control,name:"password",render:({field:e,fieldState:i})=>(0,r.jsxs)(c.Field,{"data-invalid":i.invalid,children:[(0,r.jsx)(c.FieldLabel,{children:"Пароль"}),(0,r.jsx)(n.Input,{type:"password",...e}),i.invalid&&(0,r.jsx)(c.FieldError,{errors:[i.error]})]})})]})}),(0,r.jsx)(l.CardFooter,{className:"flex-col gap-2",children:(0,r.jsx)(i.Button,{type:"submit",form:"form-auth",className:"w-full",children:e?"Войти":"Зарегистрироваться"})})]})});function j(){return(0,r.jsx)(x,{})}e.s(["default",()=>j],11981)}]);